<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>NFL - Példák</title>

  </head>
  <body>
    <center><h1>Példák</h1></center>
    <hr width = "75%">
    A példák bármelyike tesztelhető úgy, hogy fölmész a fórum főoldalára, nyitsz egy konzolt és bemásolod a példát.<br><br>
    <div >
    Az első példában azt láthatjuk, hogy lehet valakinek a pontjait lekérni a fórumról. Ez egy rém egyszerű funckió, mégis hasznos:
    <pre class = "code">
async function getPoints(name) {
    // Lekérjük az illető profilját, a neve alapján.
    let page = await fetch("https://boards.eune.leagueoflegends.com/hu/player/eune/" + name).then(a => a.text()); 

    try {
        //A lifetime-upvotes mező tartalmazza a felhasználó pontjait. Innen regexxel szedjük ki az értéket.
        return page.match(/"lifetime-upvotes">\n\t\t&ltspan class="number opaque" data-short-number="(\d+)"&gt/)[1];
    } catch (e) {
        //Ha hiba történt (nincs ilyen profil / valamilyen oknál fogva nem sikerült betölteni az oldalt) a visszatérési érték 0.
        return 0;
    }
}
</pre><br>
    </div>
    
    <div>
    Ez a funckió lekéri az üzeneteket és jelez, ha van olvasatlan:
    <pre class = "code">
// A {credentials: "include"} azért kell, mert így a lekérés "bejelentkezve" történik. 
// Nélküle a böngésző egy bejelentkezetlen 404-es oldalt látna.
fetch("https://boards.eune.leagueoflegends.com/en/myupdates.json?show=unread", {credentials: "include"}).then(a => a.json()).then(b => {
    if (b.resultsCount > 0) alert(b.resultsCount + " új üzeneted érkezett!");
});
    </pre>
    </div>
    
    <div>
    Csinálunk egy API lekérést egy poszthoz és megnézzük ki a poszt beküldője:
    <pre class = "code">
fetch("https://boards.eune.leagueoflegends.com/api/VFnq5EbB/discussions/iaWEY6E9").then(resp => resp.json()).then(ret => {
    console.log("A poszt írója: " + ret.discussion.user.name)
})
    </pre>
    </div>
    
    Ezen kívül ajánlanám a <a href = "https://github.com/Nemin32/lol_boards_addons/">saját addonjaim kódjait</a>, hátha ötletet/segítséget nyújt valamihez.
    <hr width = "75%">
    <center><a href = "index.html">Vissza</a></center>
  </body>
</html>